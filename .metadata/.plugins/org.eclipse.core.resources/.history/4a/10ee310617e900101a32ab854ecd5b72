package com.history;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.net.URL;
import java.net.URLConnection;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.List;
import java.util.Random;

import javax.ejb.Stateful;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;


/**
 * Session Bean implementation class Account
 */
@Stateful(mappedName="History")
public class History implements HistoryRemote {

	
	@PersistenceContext(unitName="history-unit")
	private EntityManager em;


	@Override
	public boolean addLogin1FA(String idPib) {
		long loginTime = System.currentTimeMillis();
		//System.out.println("inside history.java addLogin1FA");
		
		HistoryClass h = new HistoryClass();
		h.setIdPib(idPib);
		h.setTime(loginTime);
		h.setStatus("Successful 1FA Login");
		
		em.persist(h);
		
		
		return true;
	}


}

